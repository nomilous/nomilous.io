// Generated by CoffeeScript 1.6.3
module.exports = function() {
  /* browser-side*/

  var Promise, xhr;
  xhr = require('xhr');
  Promise = require('promise');
  return Promise.all(['/earth', '/visitors'].map(function(path) {
    return new Promise(function(resolve, reject) {
      return xhr({
        method: 'GET',
        url: path
      }, function(_arg) {
        var response, status;
        status = _arg.status, response = _arg.response;
        if (status === 200) {
          return resolve(JSON.parse(response));
        }
        return reject(new Error("" + path + " error status", status));
      }, reject);
    });
  })).then(function(_arg) {
    var earth, visitors;
    earth = _arg[0], visitors = _arg[1];
    console.log({
      e: earth
    });
    return console.log({
      v: visitors
    });
  }, function(error) {});
};
